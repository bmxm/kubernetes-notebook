
## 5 索引


### 5.1 索引介绍


目前MySQL主要支持的几种索引有：B树索引（B-tree）、散列索引（hash）、空间索引（R-tree）、和全文索引（full-text）。

逻辑上又可以分为：单列索引、复合索引（多列索引）、唯一（Unique）索引和非唯一（Non Unique）索引。


如果索引键值的逻辑顺序与索引所服务的表中相应行的物理顺序相同，那么该索引被称为簇索引（cluster index），也称为聚集索引、聚簇索引，也就是说数据和索引（B+树）在一起，记录被真实的保存在索引的叶子中。簇索引也称为索引组织表，反之为非聚集索引。
InnoDB表使用的就是聚集索引。


簇索引的优点：
- 将相关的数据保存在一起，叶子节点内可保存相邻近的记录。
- 因为索引和数据存储在一起，所以查找数据通常比非聚簇索引更快。由于主键是有序的，很显然，对InnoDB表，最高效的存取方式是按主键存取唯一记录或进行小范围的主键扫描。

簇索引的不足之处：
- 对I/O密集型的负荷性能提升最佳，但如果数据时在内存中（访问次序不怎么重要），那么聚簇索引并没有明显益处。
- 插入操作
- 更新索引列成本比较高，因为InnoDB不得不将更新的行移动到新的位置。
- 全表扫描性能不佳，尤其是数据存储的不那么紧密的时候，或者因为页分裂（page split）而导致物理存储不连续。
- 二级索引的叶子节点中存储了主键索引的值，



### 5.2 使用索引的场景及注意事项

1 何种查询可以应用索引




2 注意事项和建议
