```sql

```


**查询语句的执行流程**

- 连接器
- 分析器
    - 词法分析：识别关键字，并把字符串转换为相应的表名、列名(列名不是数据，可以直接读取，不需要打开表的时候获得)。
    - 语法分析：根据词法分析的结果，语法分析器会根据语法规则，对SQL语句进行判断。
- 优化器
    - 优化器是在表中有多个索引的时候，决定使用哪个索引；或者在一个表有多表关联（Join）的时候，决定各个表的连接顺序。
- 执行器
    - 执行之前会首先判断你对该表有没有相应的权限，如果有就打开表，根据表的引擎定义，去使用这个引擎提供的接口。


```sql
-- 显示连接
show processlist;

-- 查询数据库是否开启了查询缓存的功能
SHOW GLOBALVARIABLES LIKE 'query_cache_type';
-- OFF，关闭了查询缓存功能； 
-- ON，开启了查询缓存功能； 
-- DEMAND，在 sql语句中指定 sql_cache 关键字才会有查询缓存
-- 而对于确定使用的查询缓存的语句，可以使用 SQL_CACHE 显式指定如： select SQL_CACHE * from T where ID=10;
-- 需要注意的是，MySQL 8.0 版本将查询缓存的整块功能删除了，也就是没有这个功能了。

```


**更新语句的执行流程**

- MySQL可以恢复到半个月内任意一秒的状态？


- 与查询流程不一样的是，更新流程还涉及两个重要的日志模块：
    - redo log (重做日志，InnoDB特有) 
    - 数据更新到内存后，写redo log，此时为prepare状态，然后执行器生成这个操作成bin log并写入磁盘。事务提交后引擎把bin log改为commit状态，更新完成。
    - bin log（归档日志，归属于Server层）。
    - redo log是物理日志，记录的是“在某个数据页上做了什么修改”；bin log 是逻辑日志，记录的是这个语句的原始逻辑，比如给某一行某个字段+1
    - redo log 是循环写的，空间固定会用完；bin log是追加写的，不会覆盖以前的数据。

WAL（Write-Ahead Logging），先写日志再写磁盘。







有哪些存储引擎 区别是什么
sql优化策略
聚集索引的底层
mvcc机制
mysql的表锁有哪些
根据sql语句分析会上哪些锁



输入URL会发生什么
tcp 三次握手     tcp udp的区别
怎么保证tcp连接稳定性

流量控制，拥塞控制，滑动窗口


线程和进程的通信方式及两者之间的区别

redis sorted set 底层

单例模式的几种写法    以及为啥会double check

数据库是怎么保证acid， undolog  redolog  next-key locks  