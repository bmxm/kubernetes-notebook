
## 1 消息丢失


- 如果知道有消息丢失？
- 哪些环节可能丢消息？
- 如何确保消息不丢失？

消息可能丢失的三个环节：
- 消息生产阶段
- 消息存储阶段
- 消息消费阶段





## 2 消息被重复消费

也就是，如何解决消费端幂等性的问题？

最简单的方案是，在数据库中建一张消息日志表，表中有两个字段：消息ID和消息执行状态。




## 3 消息积压

一般是消费端的性能问题。
在扩容消费者的实例数的同时必须同步扩容主题Topic的分区数量。如果消费者是实例数超过了分区数，因为分区是单线程消费，所以这样的扩容没有效果。